<!-- <span>Filters</span> : &nbsp; &nbsp; -->
<div class="btn-toolbar" *ngIf="uiState">


    &nbsp;
    &nbsp;<div class="btn-group proxy-command-button" role="group">
            <button [disabled]="!uiState.captureEnabled && !uiState.haltEnabled"
                    [hidden]="uiState.haltEnabled"
            class="btn btn-dark capture" aria-current="page" title="capture OS trafic" (click)="enableCapture()">
                <i class="fa fa-bolt text-success" style="font-size:16px" aria-hidden="true"></i>&nbsp;
                capture</button>
            <button [disabled]="!uiState.captureEnabled && !uiState.haltEnabled"
                    [hidden]="!uiState.haltEnabled"
            class="btn btn-dark capture" aria-current="page" title="halt traffic capture" (click)="haltCapture()">
                <i class="fa fa-pause text-danger" style="font-size:16px" aria-hidden="true"></i>&nbsp;
                capturing</button>
    </div>
    &nbsp;
    &nbsp;

    <div class="input-group">
        <div class="input-group-text bg-dark" id="btnGroupAddon"><i class="fa fa-search" aria-hidden="true"></i></div>
        <input type="text" class="form-control text-info better-placeholder"
               style="width:350px"
               placeholder="type filter, action, rules settings here" aria-label="Input group example"
               aria-describedby="btnGroupAddon">
    </div>
    &nbsp;
    &nbsp;<div class="btn-group" role="group">

    <button *ngFor="let toolBarFilter of uiState.toolBarFilters" type="button" href="javascript:;"

            (click)="selectFilter(toolBarFilter.filter)"
            [title]="toolBarFilter.filter.friendlyName"
            class="btn btn-dark" aria-current="page"
            [ngClass]=" {
            'active' : toolBarFilter.filter.identifier === uiState.viewFilter.filter.identifier,
             'bg-primary' : toolBarFilter.filter.identifier === uiState.viewFilter.filter.identifier && !ctrlKeyOn,
            'and-filter' :  uiState.viewFilter.filter.identifier  && ctrlKeyOn

             }"
    >{{ toolBarFilter.filter.shortName }}</button>

    <button *ngIf="selectedFilter" type="button" href="javascript:;"

            (click)="selectFilter(selectedFilter)"
            [title]="selectedFilter.friendlyName"
            class="btn btn-dark" aria-current="page"
            [ngClass]=" {'active' : selectedFilter.identifier === uiState.viewFilter.filter.identifier,
            'bg-primary' : selectedFilter.identifier === uiState.viewFilter.filter.identifier && !ctrlKeyOn,
            'and-filter' :  uiState.viewFilter.filter.identifier  && ctrlKeyOn


            }"
    >{{ selectedFilter.shortName }} <i class="bi bi-pencil"></i></button>


    <div class="btn-group" role="group" dropdown *ngIf="uiState.templateToolBarFilterModel">
        <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown"
                aria-expanded="false" dropdownToggle>
            more filters
        </button>
        <ul class="dropdown-menu bg-light text-primary" *dropdownMenu aria-labelledby="btnGroupDrop851">
            <li role="menuitem" *ngFor="let filter of uiState.templateToolBarFilterModel.quickFilters">
                <a class="dropdown-item" href="javascript:;"
                   (click)="createTemplateFilter(filter)">{{ filter.friendlyName}}</a>
            </li>

            <ng-container *ngIf="uiState.templateToolBarFilterModel.lastUsedFilters.length > 0 ">
                <li class="divider dropdown-divider"></li>
                <li role="menuitem" (click)="skipEvent($event)"><span
                    class="dropdown-item"><i>Last used filters</i></span></li>
                <li role="menuitem" *ngFor="let filter of uiState.templateToolBarFilterModel.lastUsedFilters">
                    <a class="dropdown-item small" href="javascript:;"
                       (click)="selectFilter(filter)">{{filter.friendlyName}}</a></li>
            </ng-container>

            <li class="divider dropdown-divider"></li>
            <li role="menuitem"><a class="dropdown-item" href="javascript:;" (click)="createCustomFilter()">Other
                filters</a></li>
            <li role="menuitem"><a class="dropdown-item" href="javascript:;" (click)="openManagedFilters()">Load saved
                filter (from computer)</a></li>
        </ul>
    </div>
    &nbsp;&nbsp;

    <div class="btn-group" role="group">
        <div class="btn-group" role="group" dropdown>
            <button id="btnGroupDrop851" type="button" class="btn btn-primary dropdown-toggle"
                    data-bs-toggle="dropdown"
                    aria-expanded="false" dropdownToggle>
            <span style="white-space: nowrap">
                <span *ngIf="uiState.viewFilter.sourceFilter.typeKind === 'AnyFilter'">
                    View per source ({{uiState.templateToolBarFilterModel.agentFilters.length}})
                </span>
                <span class="limit-lengthd" *ngIf="uiState.viewFilter.sourceFilter.typeKind !== 'AnyFilter'">
                    {{uiState.viewFilter.sourceFilter.friendlyName}}
                </span>
            </span>
            </button>
            <ul class="dropdown-menu bg-light text-primary" *dropdownMenu>
                <li role="menuitem">
                    <a class="dropdown-item" href="javascript:;" (click)=" resetSourceFilter()">
                        <i class="fa fa-check" *ngIf="isSourceFilterEmpty()"></i>
                        All sources</a>
                </li>
                <li class="divider dropdown-divider"
                    *ngIf="uiState.templateToolBarFilterModel.agentFilters.length > 0"></li>
                <li role="menuitem" *ngFor="let agentFilter of uiState.templateToolBarFilterModel.agentFilters">
                    <a class="dropdown-item" href="javascript:;" (click)="applySourceFilter(agentFilter)"
                       [ngClass]="{'text-gray-300' : !isSourceAgentSelect(agentFilter)}">
                        <!--                    <i class="fa fa-check" *ngIf="isSourceAgentSelect(agentFilter)"></i>-->
                        <i [ngClass]="SourceAgentIconFunc(agentFilter.friendlyName)"></i>
                        {{ agentFilter.friendlyName }}</a></li>
            </ul>
        </div>
    </div>
    &nbsp;
</div>
    &nbsp;
    &nbsp;
    &nbsp;
    <div class="btn-group" role="group">

        <div class="btn-group" role="group" dropdown>
            <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" dropdownToggle>
                <i class="fa fa-bug" aria-hidden="true"></i>&nbsp;
                live edit
            </button>
            <ul class="dropdown-menu bg-light text-primary" *dropdownMenu>
                <li role="menuitem">
                    <a class="dropdown-item" href="javascript:;" (click)="catchAll()">
                        all traffic</a></li>
                <li role="menuitem">
                    <a class="dropdown-item" href="javascript:;" (click)="catchWithFilter()">
                        catch with filter</a></li>
                <li class="divider dropdown-divider"></li>
                <li role="menuitem">
                    <a class="dropdown-item" href="javascript:;" (click)="showActiveLiveEditFilters()">
                        Show active live edit filters</a></li>
            </ul>
         </div>
        <button type="button" href="javascript:;"
                [disabled]="!(uiState.breakPointState.anyPendingRequest ||  uiState.breakPointState.activeFilters.length > 0)"
                (click)="deleteAll()"
                class="btn btn-dark " disabled aria-current="page">
                        <i class="fa fa-stop" [ngClass]="{'text-danger' : (uiState.breakPointState.anyPendingRequest ||  uiState.breakPointState.activeFilters.length > 0)} " ></i>&nbsp;
            halt live edit</button>
        <button type="button" href="javascript:;"
                [disabled]="!uiState.breakPointState.anyPendingRequest"
                (click)="resumeAll()"
                class="btn btn-dark " aria-current="page">
            <i class="fa fa-play" [ngClass]="{'text-success' : uiState.breakPointState.anyPendingRequest}"></i>&nbsp;
            resume all</button>
    </div>
</div>
