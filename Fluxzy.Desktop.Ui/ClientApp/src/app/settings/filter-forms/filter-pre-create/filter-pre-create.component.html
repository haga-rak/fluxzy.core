<div class="modal-header">
    <h4 class="modal-title pull-left">
        Create a new filter - Choose the filter kind
    </h4>
    <button type="button" class="btn-close close pull-right white" aria-label="Close" (click)="cancel()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
</div>
<div class="modal-body" style="min-height: 400px">
    <p *ngIf="!filterTemplates">
        Loading templates ....
    </p>
    <div *ngIf="filterTemplates">
        <div style="margin-bottom: 12px">
            <input type="text" [(ngModel)]="searchString" (ngModelChange)="searchStringChanged()" class="form-control search-block-input"
                   [placeholder]="'Search a filter template among ' + filterTemplates.length + ' templates and premade filters'" />
        </div>

        <ng-container *ngIf="!searchString">

            <h4>Commonly used filters</h4>

            <div class="search-result-block">

                <div class="row">
                    <div *ngFor="let filterTemplate of filterTemplates | funcFilter : commonOnly" class="col-md-4 button-container">
                        <a href="javascript:;" (click)="select(filterTemplate.filter)"
                           class="btn btn-outline-primary btn-dark text-white">{{filterTemplate.label}}
                            ({{filterTemplate.group}})</a>
                    </div>
                </div>
            </div>
        </ng-container>


        <ng-container *ngIf="searchString">

            <h4>Search results</h4>

            <div class="search-result-block">

                <ng-container *ngIf="filteredFilterTemplates.length">
                    <div class="row">
                        <div *ngFor="let filterTemplate of filteredFilterTemplates" class="col-md-4 button-container">
                            <a href="javascript:;" (click)="select(filterTemplate.filter)"
                               class="btn btn-outline-primary btn-dark text-white">{{filterTemplate.label}}
                                ({{filterTemplate.group}})</a>
                        </div>
                    </div>
                </ng-container>

                <ng-container  *ngIf="!filteredFilterTemplates.length">
                    <p class="text-center">No result found for <strong>{{searchString}}</strong></p>
                </ng-container>

            </div>
        </ng-container>


    </div>
</div>
<div class="modal-footer">
    <!--    <button class="btn btn-primary" (click)="save()">Save</button>-->
    <button class="btn btn-dark" (click)="cancel()">Cancel</button>
</div>
